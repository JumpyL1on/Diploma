@page "/tournaments/{Id:guid}"
@attribute [Authorize]
<MudTabs>
    <MudTabPanel Text="Обзор">
        <MudGrid>
            <MudItem xs="8">
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h6">ОБ ЭТОМ ТУРНИРЕ</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText>Название: @tournamentDetails.Title</MudText>
                        <MudText>Организован создателем</MudText>
                        <MudText>Текущий статус: ожидается</MudText>
                        <MudText Typo="Typo.subtitle1">Режим игры: 5v5 Captains mode</MudText>
                    </MudCardContent>
                </MudCard>
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h6">РАСПИСАНИЕ</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText>Запись начинается @tournamentDetails.RegistrationStart.ToString("f")</MudText>
                        <MudText>Запись заканчивается @tournamentDetails.RegistrationStart.ToString("f")</MudText>
                        <MudText>Начинается @tournamentDetails.Start.ToString("f")</MudText>
                        <MudDivider></MudDivider>
                        <MudText>Число групп: 1</MudText>
                        <MudText>Количество раундов: @Math.Log2(tournamentDetails.ParticipantsNumber)</MudText>
                        <MudText>Раунд 1: @tournamentDetails.Start.ToString("f")</MudText>
                        @for (var i = 2; i <= Math.Log2(tournamentDetails.ParticipantsNumber); i++)
                        {
                            var i1 = i;
                            <MudText>Раунд @i1: Как можно скорее</MudText>
                        }
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem xs="4">
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h6">ПРИСОЕДИНИТЬСЯ К ТУРНИРУ</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText Typo="Typo.subtitle1">
                            Регистрация заканчивается @tournamentDetails.RegistrationEnd.ToString("f")
                        </MudText>
                        <MudText Typo="Typo.subtitle1">
                            Команды @($"{tournamentDetails.CurrentParticipantsNumber}/{tournamentDetails.ParticipantsNumber}")
                        </MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton Variant="Variant.Filled" OnClick="JoinTournamentAsync">
                            УЧАСТВОВАТЬ В ТУРНИРЕ
                        </MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudTabPanel>
    <MudTabPanel Text="Команды">
        
    </MudTabPanel>
</MudTabs>