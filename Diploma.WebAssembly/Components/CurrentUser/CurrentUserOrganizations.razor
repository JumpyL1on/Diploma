@using Diploma.Common.DTOs
@if (_organizations != null && _organizations.Count == 0)
{
    <MudText Typo="Typo.h6" Class="mt-6">
        Мои организации
    </MudText>
    <MudCard Class="mt-6">
        <MudCardContent Class="d-flex justify-center">
            <MudText Typo="Typo.body1">
                Создайте свою первую организацию
            </MudText>
        </MudCardContent>
        <MudCardActions Class="justify-center">
            <MudButton Color="Color.Primary" Variant="Variant.Filled" OnClick="OnClickAsync">
                <MudStack Row="@true">
                    <MudIcon Icon="@Icons.Material.Filled.Add"/>
                    <MudText Typo="Typo.body1">Создать организацию</MudText>
                </MudStack>
            </MudButton>
        </MudCardActions>
    </MudCard>
}
@if (_organizations != null && _organizations.Count != 0)
{
    <MudText Typo="Typo.h6" Class="mt-6">
        Мои организации
    </MudText>
    <MudTable Items="_organizations" T="OrganizationDTO" Class="mt-6">
        <HeaderContent>
            <MudTh>Организация</MudTh>
            <MudTh>Роль</MudTh>
            <MudTh/>
        </HeaderContent>
        <RowTemplate>
            <MudTd>
                <MudLink Href="@($"/organization/{context.Id}")">
                    @context.Title
                </MudLink>
            </MudTd>
            <MudTd>@context.Role</MudTd>
            <MudTd Class="d-flex justify-end">
                @if (context.Role == "Владелец")
                {
                    <MudButton Variant="Variant.Filled" Color="Color.Primary">
                        <MudText Typo="Typo.body1">Удалить организацию</MudText>
                    </MudButton>
                }
                @if (context.Role == "Судья")
                {
                    <MudButton Variant="Variant.Filled" Color="Color.Primary">
                        <MudText Typo="Typo.body1">Покинуть организацию</MudText>
                    </MudButton>
                }
            </MudTd>
        </RowTemplate>
    </MudTable>
}